{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container mx-auto\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-2xl font-bold mb-4\"\n}, \"Formulaire de réservation de table\", -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"mb-4\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 font-bold mb-2\",\n  for: \"nom\"\n}, \" Nom de la réservation : \", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"mb-4\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 font-bold mb-2\",\n  for: \"nom\"\n}, \" Numéro de téléphone : \", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"mb-4\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 font-bold mb-2\",\n  for: \"heure\"\n}, \" Heure de réservation : \", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"mb-4\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"block text-gray-700 font-bold mb-2\",\n  for: \"personnes\"\n}, \" Nombre de personnes : \", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex justify-center\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\n}, \" Réserver \")], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.submitReservation && $options.submitReservation(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.nom = $event),\n    class: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"nom\",\n    type: \"text\",\n    placeholder: \"Entrez le nom de la réservation\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nom]])]), _createElementVNode(\"div\", _hoisted_5, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.numero = $event),\n    class: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"number\",\n    type: \"tel\",\n    pattern: \"[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}\",\n    placeholder: \"Exemple xx-xx-xx-xx-xx\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.numero]])]), _createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.heure = $event),\n    class: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"heure\",\n    type: \"text\",\n    pattern: \"[0-9]{2}:[0-9]{2}\",\n    placeholder: \"Exemple xx:xx\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.heure]])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.personnes = $event),\n    class: \"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"personnes\",\n    type: \"number\",\n    placeholder: \"Entrez le nombre de personnes\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.personnes]])]), _hoisted_11], 32 /* HYDRATE_EVENTS */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","submitReservation","_hoisted_3","_hoisted_4","$data","nom","$event","id","placeholder","required","_hoisted_5","_hoisted_6","numero","pattern","_hoisted_7","_hoisted_8","heure","_hoisted_9","_hoisted_10","personnes","_hoisted_11"],"sources":["/home/emile/Documents/Epitech/3rd year/INTERNSHIP/tem/src/components/FormulaireReservation.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto\">\n    <h1 class=\"text-2xl font-bold mb-4\">Formulaire de réservation de table</h1>\n    <form @submit.prevent=\"submitReservation\">\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700 font-bold mb-2\" for=\"nom\">\n          Nom de la réservation :\n        </label>\n        <input v-model=\"nom\"\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n          id=\"nom\" type=\"text\" placeholder=\"Entrez le nom de la réservation\" required />\n      </div>\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700 font-bold mb-2\" for=\"nom\">\n          Numéro de téléphone :\n        </label>\n        <input v-model=\"numero\"\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n          id=\"number\" type=\"tel\" pattern=\"[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}-[0-9]{2}\"\n          placeholder=\"Exemple xx-xx-xx-xx-xx\" required />\n      </div>\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700 font-bold mb-2\" for=\"heure\">\n          Heure de réservation :\n        </label>\n        <input v-model=\"heure\"\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n          id=\"heure\" type=\"text\" pattern=\"[0-9]{2}:[0-9]{2}\" placeholder=\"Exemple xx:xx\" required />\n      </div>\n      <div class=\"mb-4\">\n        <label class=\"block text-gray-700 font-bold mb-2\" for=\"personnes\">\n          Nombre de personnes :\n        </label>\n        <input v-model=\"personnes\"\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n          id=\"personnes\" type=\"number\" placeholder=\"Entrez le nombre de personnes\" required />\n      </div>\n      <div class=\"flex justify-center\">\n        <button type=\"submit\"\n          class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\">\n          Réserver\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n  \n<script>\nimport { db } from '@/firebase';\nimport { collection, addDoc } from 'firebase/firestore';\n// const twilio = require('twilio');\nimport twilio from 'twilio';\n\nexport default {\n  data() {\n    return {\n      nom: '',\n      numero: '',\n      heure: '',\n      personnes: '',\n    };\n  },\n  methods: {\n    submitReservation() {\n      addDoc(collection(db, 'reservations'), {\n        nom: this.nom,\n        numero: this.numero,\n        heure: this.heure,\n        personnes: this.personnes,\n      })\n        .then((docRef) => {\n          // Succès de l'enregistrement, récupérez l'ID du document ajouté\n          const reservationId = docRef.id;\n\n          // Envoi du message texte à l'aide de Firebase Cloud Messaging\n          const message = `Nouvelle réservation - ID: ${reservationId}, Nom: ${this.nom}, Heure: ${this.heure}, Personnes: ${this.personnes}`;\n          this.sendSmsMessage('+33671783492', message); // Remplacez '+33671783492' par le numéro de téléphone du destinataire\n\n          // Réinitialisation des valeurs du formulaire\n          this.nom = '';\n          this.numero = '';\n          this.heure = '';\n          this.personnes = '';\n\n          console.log('Réservation enregistrée avec succès dans Firestore!');\n        })\n        .catch((error) => {\n          console.error('Erreur lors de l\\'enregistrement de la réservation:', error);\n        });\n    },\n    sendSmsMessage(phoneNumber, message) {\n  const accountSid = 'YOUR_TWILIO_ACCOUNT_SID';\n  const authToken = 'YOUR_TWILIO_AUTH_TOKEN';\n  const twilioPhoneNumber = 'YOUR_TWILIO_PHONE_NUMBER';\n\n  const client = twilio(accountSid, authToken);\n\n  client.messages\n    .create({\n      body: message,\n      from: twilioPhoneNumber,\n      to: phoneNumber\n    })\n    .then((message) => console.log('Message sent:', message.sid))\n    .catch((error) => console.error('Failed to send message:', error));\n}\n  },\n};\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAAmB;gCAC5BC,mBAAA,CAA2E;EAAvED,KAAK,EAAC;AAAyB,GAAC,oCAAkC;;EAE/DA,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAEQ;EAFDD,KAAK,EAAC,oCAAoC;EAACE,GAAG,EAAC;GAAM,2BAE5D;;EAKGF,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAEQ;EAFDD,KAAK,EAAC,oCAAoC;EAACE,GAAG,EAAC;GAAM,yBAE5D;;EAMGF,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAEQ;EAFDD,KAAK,EAAC,oCAAoC;EAACE,GAAG,EAAC;GAAQ,0BAE9D;;EAKGF,KAAK,EAAC;AAAM;iCACfC,mBAAA,CAEQ;EAFDD,KAAK,EAAC,oCAAoC;EAACE,GAAG,EAAC;GAAY,yBAElE;iCAKFD,mBAAA,CAKM;EALDD,KAAK,EAAC;AAAqB,I,aAC9BC,mBAAA,CAGS;EAHDE,IAAI,EAAC,QAAQ;EACnBH,KAAK,EAAC;GAA+G,YAEvH,E;;;uBAxCNI,mBAAA,CA2CM,OA3CNC,UA2CM,GA1CJC,UAA2E,EAC3EL,mBAAA,CAwCO;IAxCAM,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,iBAAA,IAAAD,QAAA,CAAAC,iBAAA,IAAAF,IAAA,CAAiB;MACtCT,mBAAA,CAOM,OAPNY,UAOM,GANJC,UAEQ,E,gBACRb,mBAAA,CAEgF;+DAFhEc,KAAA,CAAAC,GAAG,GAAAC,MAAA;IACjBjB,KAAK,EAAC,4HAA4H;IAClIkB,EAAE,EAAC,KAAK;IAACf,IAAI,EAAC,MAAM;IAACgB,WAAW,EAAC,iCAAiC;IAACC,QAAQ,EAAR;iDAFrDL,KAAA,CAAAC,GAAG,E,KAIrBf,mBAAA,CAQM,OARNoB,UAQM,GAPJC,UAEQ,E,gBACRrB,mBAAA,CAGkD;+DAHlCc,KAAA,CAAAQ,MAAM,GAAAN,MAAA;IACpBjB,KAAK,EAAC,4HAA4H;IAClIkB,EAAE,EAAC,QAAQ;IAACf,IAAI,EAAC,KAAK;IAACqB,OAAO,EAAC,8CAA8C;IAC7EL,WAAW,EAAC,wBAAwB;IAACC,QAAQ,EAAR;iDAHvBL,KAAA,CAAAQ,MAAM,E,KAKxBtB,mBAAA,CAOM,OAPNwB,UAOM,GANJC,UAEQ,E,gBACRzB,mBAAA,CAE4F;+DAF5Ec,KAAA,CAAAY,KAAK,GAAAV,MAAA;IACnBjB,KAAK,EAAC,4HAA4H;IAClIkB,EAAE,EAAC,OAAO;IAACf,IAAI,EAAC,MAAM;IAACqB,OAAO,EAAC,mBAAmB;IAACL,WAAW,EAAC,eAAe;IAACC,QAAQ,EAAR;iDAFjEL,KAAA,CAAAY,KAAK,E,KAIvB1B,mBAAA,CAOM,OAPN2B,UAOM,GANJC,WAEQ,E,gBACR5B,mBAAA,CAEsF;+DAFtEc,KAAA,CAAAe,SAAS,GAAAb,MAAA;IACvBjB,KAAK,EAAC,4HAA4H;IAClIkB,EAAE,EAAC,WAAW;IAACf,IAAI,EAAC,QAAQ;IAACgB,WAAW,EAAC,+BAA+B;IAACC,QAAQ,EAAR;iDAF3DL,KAAA,CAAAe,SAAS,E,KAI3BC,WAKM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}